var Bullet,LeftPlayer,Player,RightPlayer,bind=function(t,e){return function(){return t.apply(e,arguments)}},extend=function(t,e){function s(){this.constructor=t}for(var i in e)hasProp.call(e,i)&&(t[i]=e[i]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;Player=function(t){function e(t,s){this._update=bind(this._update,this),e.__super__.constructor.call(this,t,s,0,15),this.controller=Controller.get(),this.velx=0,this.vely=0,this.maxSpeed=4,this.shootSpeed=100,this.elapsedTime=0}return extend(e,t),e.prototype.shoot=function(t){if(this.elapsedTime+=t,this.elapsedTime>=this.shootSpeed)return this.elapsedTime-=this.shootSpeed,this.stage.addActor(new Bullet(this.position.x,this.position.y,this.direction))},e.prototype._render=function(){return this.drawDebug()},e.prototype._update=function(t){var e,s,i,h,r,o;return r=this.position.x,o=this.position.y,h=t/100,s=1.5,e=2,this.controller.isPressed(Keys.LEFT)||this.controller.isPressed(Keys.A)?this.velx>-this.maxSpeed&&(this.velx-=e*h,this.velx<-this.maxSpeed&&(this.velx=-this.maxSpeed)):this.velx<0&&(this.velx+=s*h,this.velx>0&&(this.velx=0)),this.controller.isPressed(Keys.RIGHT)||this.controller.isPressed(Keys.D)?this.velx<this.maxSpeed&&(this.velx+=e*h,this.velx>this.maxSpeed&&(this.velx=this.maxSpeed)):this.velx>0&&(this.velx-=s*h,this.velx<0&&(this.velx=0)),this.controller.isPressed(Keys.UP)||this.controller.isPressed(Keys.W)?this.vely>-this.maxSpeed&&(this.vely-=e*h,this.vely<-this.maxSpeed&&(this.vely=-this.maxSpeed)):this.vely<0&&(this.vely+=s*h,this.vely>0&&(this.vely=0)),this.controller.isPressed(Keys.DOWN)||this.controller.isPressed(Keys.S)?this.vely<this.maxSpeed&&(this.vely+=e*h,this.vely>this.maxSpeed&&(this.vely=this.maxSpeed)):this.vely>0&&(this.vely-=s*h,this.vely<0&&(this.vely=0)),this.setPosition(r+this.velx,o+this.vely),i=Game.getMouseLocation(),i&&this.lookAt(i),this.updateBody()},e}(CircleActor),LeftPlayer=function(t){function e(t,s){this._update=bind(this._update,this),e.__super__.constructor.call(this,t,s)}return extend(e,t),e.prototype._render=function(){return this.drawDebug()},e.prototype._update=function(t){var e,s,i,h,r,o;return r=this.position.x,o=this.position.y,h=t/100,s=1.5,e=2,this.controller.isPressed(Keys.D)&&this.shoot(t),this.controller.isPressed(Keys.W)?this.vely>-this.maxSpeed&&(this.vely-=e*h,this.vely<-this.maxSpeed&&(this.vely=-this.maxSpeed)):this.vely<0&&(this.vely+=s*h,this.vely>0&&(this.vely=0)),this.controller.isPressed(Keys.S)?this.vely<this.maxSpeed&&(this.vely+=e*h,this.vely>this.maxSpeed&&(this.vely=this.maxSpeed)):this.vely>0&&(this.vely-=s*h,this.vely<0&&(this.vely=0)),i=new Circle(new Vector(r,o+this.vely),this.radius),this.stage.isCircleInBounds(i)&&this.setPosition(r,o+this.vely),this.updateBody()},e}(Player),RightPlayer=function(t){function e(t,s){this._update=bind(this._update,this),e.__super__.constructor.call(this,t,s),this.direction=MathHelpers.toRadians(180)}return extend(e,t),e.prototype._render=function(){return this.drawDebug("#0000FF")},e.prototype._update=function(t){var e,s,i,h,r,o;return r=this.position.x,o=this.position.y,h=t/100,s=1.5,e=2,this.controller.isPressed(Keys.LEFT)&&(console.log(this.direction),this.shoot(t)),this.controller.isPressed(Keys.UP)?this.vely>-this.maxSpeed&&(this.vely-=e*h,this.vely<-this.maxSpeed&&(this.vely=-this.maxSpeed)):this.vely<0&&(this.vely+=s*h,this.vely>0&&(this.vely=0)),this.controller.isPressed(Keys.DOWN)?this.vely<this.maxSpeed&&(this.vely+=e*h,this.vely>this.maxSpeed&&(this.vely=this.maxSpeed)):this.vely>0&&(this.vely-=s*h,this.vely<0&&(this.vely=0)),i=new Circle(new Vector(r,o+this.vely),this.radius),this.stage.isCircleInBounds(i)&&this.setPosition(r,o+this.vely),this.updateBody()},e}(Player),Bullet=function(t){function e(t,s,i){null==i&&(i=0),e.__super__.constructor.call(this,t,s,i,5)}return extend(e,t),e.prototype._render=function(){return this.drawDebug()},e.prototype._update=function(t){var e,s,i;return i=t/100,s=30*i,e=new Vector(s,0),e.rotate(this.direction),this.position.add(e),this.updateBody()},e}(CircleActor);